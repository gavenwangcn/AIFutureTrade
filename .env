
# MySQL 连接配置（应用服务使用）
# 注意：在 Docker 网络中，使用服务名 'mysql'；外部访问使用实际IP
MYSQL_HOST=193.134.209.95
MYSQL_PORT=32123
# MYSQL_USER 和 MYSQL_PASSWORD 已在上面定义
# MYSQL_DATABASE 已在上面定义

# ==============================================================================
# 服务端口配置
# ==============================================================================
BACKEND_PORT=5002
FRONTEND_PORT=3000
DATA_MANAGER_PORT=8888
DATA_AGENT_PORT=9999
DATA_AGENT_STATUS_PORT=9988

# ==============================================================================
# 容器名称配置
# ==============================================================================
BACKEND_CONTAINER_NAME=aifuturetrade-backend
FRONTEND_CONTAINER_NAME=aifuturetrade-frontend
ASYNC_AGENT_CONTAINER_NAME=aifuturetrade-async-agent
DATA_MANAGER_CONTAINER_NAME=aifuturetrade-data-manager
DATA_AGENT_CONTAINER_NAME=aifuturetrade-data-agent

# ==============================================================================
# Docker 网络和卷配置
# ==============================================================================
DOCKER_NETWORK_NAME=aifuturetrade-network
DOCKER_NETWORK_DRIVER=bridge

# ==============================================================================
# 应用基础配置
# ==============================================================================
DATABASE_PATH=/app/data/trading_bot.db
USE_GUNICORN=true
FLASK_ENV=production
PYTHONPATH=/app
BACKEND_URL=http://backend:5002
NODE_ENV=production

# ==============================================================================
# Gunicorn 配置（后端服务）
# ==============================================================================
GUNICORN_WORKERS=5
GUNICORN_WORKER_CLASS=eventlet
GUNICORN_WORKER_CONNECTIONS=1000
GUNICORN_TIMEOUT=120
GUNICORN_KEEPALIVE=5
GUNICORN_MAX_REQUESTS=1000

# ==============================================================================
# Binance API 配置（必需）
# ==============================================================================
# 注意：生产环境请修改为实际的 API 密钥
BINANCE_API_KEY=LBtjhBgX1RCksNJDdOoJPeDD30Z70YIGHHH9DrqjIDDkK7xcPRQcgydPxGRr6MN1
BINANCE_API_SECRET=55arJnwlytDflHv151UpHN1s32ACnJZEs86mbc79wGyeuSUJNHTDPN7jEgBbqO6I

# ==============================================================================
# 价格刷新服务配置（后端服务）
# ==============================================================================
PRICE_REFRESH_CRON=*/5 * * * *
PRICE_REFRESH_MAX_PER_MINUTE=1000

# ==============================================================================
# K线同步配置（async-agent 服务）
# ==============================================================================
KLINE_SYNC_CHECK_INTERVAL=10
KLINE_CLEANUP_CRON=0 */1 * * *
KLINE_CLEANUP_RETENTION_DAYS=14

# ==============================================================================
# Data Agent 配置（data-manager 和 data-agent 服务）
# ==============================================================================
DATA_AGENT_MAX_SYMBOL=150
DATA_AGENT_REGISTER_IP=data-manager
DATA_AGENT_REGISTER_PORT=8888
DATA_AGENT_BATCH_SYMBOL_SIZE=20
DATA_AGENT_HEARTBEAT_TIMEOUT=60
DATA_AGENT_STATUS_CHECK_INTERVAL=60
DATA_AGENT_FULL_SYNC_INTERVAL=180
DATA_AGENT_SELF_UPDATE_INTERVAL=60
DATA_AGENT_COMMAND_TIMEOUT=90

# ==============================================================================
# MySQL 资源限制配置
# ==============================================================================
MYSQL_ULIMIT_SOFT=65536
MYSQL_ULIMIT_HARD=65536

# ==============================================================================
# MySQL 健康检查配置
# ==============================================================================
MYSQL_HEALTHCHECK_INTERVAL=10s
MYSQL_HEALTHCHECK_TIMEOUT=5s
MYSQL_HEALTHCHECK_RETRIES=5
MYSQL_HEALTHCHECK_START_PERIOD=30s

